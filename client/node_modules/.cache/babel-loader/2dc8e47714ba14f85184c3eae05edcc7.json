{"ast":null,"code":"import axios from 'axios';\nimport Cookies from 'js-cookie';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n}); // Request interceptor\n\napi.interceptors.request.use(config => {\n  const token = Cookies.get('auth');\n\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  return config;\n}, error => Promise.reject(error)); // Response interceptor\n\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    Cookies.remove('auth');\n    Cookies.remove('role');\n    Cookies.remove('userId');\n    window.location.href = '/login';\n  }\n\n  return Promise.reject(error);\n}); // PFE Services\n\nexport const pfeService = {\n  getAll: () => api.get('/pfe'),\n  getById: id => api.get(`/pfe/${id}`),\n  getByProfessor: profId => api.get(`/pfe/prof/${profId}`),\n  getByStudent: studentId => api.get(`/pfe/student/${studentId}`),\n  create: data => api.post('/pfe', data),\n  update: (id, data) => api.put(`/pfe/${id}`, data),\n  delete: id => api.delete(`/pfe/${id}`),\n  assignStudent: (pfeId, studentId) => api.post(`/pfe/${pfeId}/assign`, {\n    studentId\n  }),\n  updateProgress: (pfeId, progress) => api.put(`/pfe/${pfeId}/progress`, {\n    progress\n  })\n}; // Professor Services\n\nexport const professorService = {\n  getAll: () => api.get('/professeurs'),\n  getById: id => api.get(`/professeurs/${id}`),\n  create: data => api.post('/professeurs', data),\n  update: (id, data) => api.put(`/professeurs/${id}`, data),\n  delete: id => api.delete(`/professeurs/${id}`)\n}; // Student Services\n\nexport const studentService = {\n  getAll: () => api.get('/etudiants'),\n  getById: id => api.get(`/etudiants/${id}`),\n  getActivated: () => api.get('/etudiants/activated'),\n  getPending: () => api.get('/etudiants/pending'),\n  create: data => api.post('/registerStudent', data),\n  update: (id, data) => api.put(`/etudiants/${id}`, data),\n  delete: id => api.delete(`/etudiants/${id}`),\n  activate: id => api.put(`/etudiants/${id}/activate`),\n  deactivate: id => api.put(`/etudiants/${id}/deactivate`)\n}; // Domain Services\n\nexport const domainService = {\n  getAll: () => api.get('/domaines'),\n  getById: id => api.get(`/domaines/${id}`),\n  create: data => api.post('/domaines', data),\n  update: (id, data) => api.put(`/domaines/${id}`, data),\n  delete: id => api.delete(`/domaines/${id}`)\n}; // Prerequisite Services\n\nexport const prerequisiteService = {\n  getAll: () => api.get('/prerequis'),\n  getByFiliere: filiereId => api.get(`/prerequis/filiere/${filiereId}`),\n  create: data => api.post('/prerequis', data),\n  update: (id, data) => api.put(`/prerequis/${id}`, data),\n  delete: id => api.delete(`/prerequis/${id}`)\n}; // Filiere Services\n\nexport const filiereService = {\n  getAll: () => api.get('/filiere'),\n  getById: id => api.get(`/filiere/${id}`),\n  create: data => api.post('/filiere', data),\n  update: (id, data) => api.put(`/filiere/${id}`, data),\n  delete: id => api.delete(`/filiere/${id}`)\n}; // Demande Services\n\nexport const demandeService = {\n  getAll: () => api.get('/demandes'),\n  getByProfessor: profId => api.get(`/demandes/prof/${profId}`),\n  getByStudent: studentId => api.get(`/demandes/student/${studentId}`),\n  create: data => api.post('/demandes', data),\n  approve: id => api.put(`/demandes/${id}/approve`),\n  reject: id => api.put(`/demandes/${id}/reject`),\n  delete: id => api.delete(`/demandes/${id}`)\n}; // Postulation Services (Student applications)\n\nexport const postulationService = {\n  getByStudent: studentId => api.get(`/postulations/student/${studentId}`),\n  getByPfe: pfeId => api.get(`/postulations/pfe/${pfeId}`),\n  create: data => api.post('/postulations', data),\n  accept: id => api.put(`/postulations/${id}/accept`),\n  reject: id => api.put(`/postulations/${id}/reject`),\n  cancel: id => api.delete(`/postulations/${id}`)\n}; // Dashboard Statistics\n\nexport const statsService = {\n  getDashboard: () => api.get('/stats/dashboard'),\n  getPfeStats: () => api.get('/stats/pfe'),\n  getStudentStats: () => api.get('/stats/students'),\n  getProfessorStats: () => api.get('/stats/professors')\n};\nexport default api;","map":{"version":3,"names":["axios","Cookies","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","withCredentials","headers","interceptors","request","use","config","token","get","Authorization","error","Promise","reject","response","status","remove","window","location","href","pfeService","getAll","getById","id","getByProfessor","profId","getByStudent","studentId","data","post","update","put","delete","assignStudent","pfeId","updateProgress","progress","professorService","studentService","getActivated","getPending","activate","deactivate","domainService","prerequisiteService","getByFiliere","filiereId","filiereService","demandeService","approve","postulationService","getByPfe","accept","cancel","statsService","getDashboard","getPfeStats","getStudentStats","getProfessorStats"],"sources":["/home/bilal/Downloads/FPN/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\nimport Cookies from 'js-cookie';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor\napi.interceptors.request.use(\n  (config) => {\n    const token = Cookies.get('auth');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Response interceptor\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      Cookies.remove('auth');\n      Cookies.remove('role');\n      Cookies.remove('userId');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// PFE Services\nexport const pfeService = {\n  getAll: () => api.get('/pfe'),\n  getById: (id) => api.get(`/pfe/${id}`),\n  getByProfessor: (profId) => api.get(`/pfe/prof/${profId}`),\n  getByStudent: (studentId) => api.get(`/pfe/student/${studentId}`),\n  create: (data) => api.post('/pfe', data),\n  update: (id, data) => api.put(`/pfe/${id}`, data),\n  delete: (id) => api.delete(`/pfe/${id}`),\n  assignStudent: (pfeId, studentId) => api.post(`/pfe/${pfeId}/assign`, { studentId }),\n  updateProgress: (pfeId, progress) => api.put(`/pfe/${pfeId}/progress`, { progress })\n};\n\n// Professor Services\nexport const professorService = {\n  getAll: () => api.get('/professeurs'),\n  getById: (id) => api.get(`/professeurs/${id}`),\n  create: (data) => api.post('/professeurs', data),\n  update: (id, data) => api.put(`/professeurs/${id}`, data),\n  delete: (id) => api.delete(`/professeurs/${id}`)\n};\n\n// Student Services\nexport const studentService = {\n  getAll: () => api.get('/etudiants'),\n  getById: (id) => api.get(`/etudiants/${id}`),\n  getActivated: () => api.get('/etudiants/activated'),\n  getPending: () => api.get('/etudiants/pending'),\n  create: (data) => api.post('/registerStudent', data),\n  update: (id, data) => api.put(`/etudiants/${id}`, data),\n  delete: (id) => api.delete(`/etudiants/${id}`),\n  activate: (id) => api.put(`/etudiants/${id}/activate`),\n  deactivate: (id) => api.put(`/etudiants/${id}/deactivate`)\n};\n\n// Domain Services\nexport const domainService = {\n  getAll: () => api.get('/domaines'),\n  getById: (id) => api.get(`/domaines/${id}`),\n  create: (data) => api.post('/domaines', data),\n  update: (id, data) => api.put(`/domaines/${id}`, data),\n  delete: (id) => api.delete(`/domaines/${id}`)\n};\n\n// Prerequisite Services\nexport const prerequisiteService = {\n  getAll: () => api.get('/prerequis'),\n  getByFiliere: (filiereId) => api.get(`/prerequis/filiere/${filiereId}`),\n  create: (data) => api.post('/prerequis', data),\n  update: (id, data) => api.put(`/prerequis/${id}`, data),\n  delete: (id) => api.delete(`/prerequis/${id}`)\n};\n\n// Filiere Services\nexport const filiereService = {\n  getAll: () => api.get('/filiere'),\n  getById: (id) => api.get(`/filiere/${id}`),\n  create: (data) => api.post('/filiere', data),\n  update: (id, data) => api.put(`/filiere/${id}`, data),\n  delete: (id) => api.delete(`/filiere/${id}`)\n};\n\n// Demande Services\nexport const demandeService = {\n  getAll: () => api.get('/demandes'),\n  getByProfessor: (profId) => api.get(`/demandes/prof/${profId}`),\n  getByStudent: (studentId) => api.get(`/demandes/student/${studentId}`),\n  create: (data) => api.post('/demandes', data),\n  approve: (id) => api.put(`/demandes/${id}/approve`),\n  reject: (id) => api.put(`/demandes/${id}/reject`),\n  delete: (id) => api.delete(`/demandes/${id}`)\n};\n\n// Postulation Services (Student applications)\nexport const postulationService = {\n  getByStudent: (studentId) => api.get(`/postulations/student/${studentId}`),\n  getByPfe: (pfeId) => api.get(`/postulations/pfe/${pfeId}`),\n  create: (data) => api.post('/postulations', data),\n  accept: (id) => api.put(`/postulations/${id}/accept`),\n  reject: (id) => api.put(`/postulations/${id}/reject`),\n  cancel: (id) => api.delete(`/postulations/${id}`)\n};\n\n// Dashboard Statistics\nexport const statsService = {\n  getDashboard: () => api.get('/stats/dashboard'),\n  getPfeStats: () => api.get('/stats/pfe'),\n  getStudentStats: () => api.get('/stats/students'),\n  getProfessorStats: () => api.get('/stats/professors')\n};\n\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}