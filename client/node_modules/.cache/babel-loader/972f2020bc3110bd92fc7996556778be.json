{"ast":null,"code":"var _jsxFileName = \"/home/bilal/Downloads/FPN/client/src/components/forms/SignUpForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport Swal from 'sweetalert2';\nimport MultiStepForm from './MultiStepForm';\nimport './SignUpForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUpForm = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    register\n  } = useAuth();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const steps = [{\n    title: 'Informations personnelles',\n    description: 'Commençons par vos informations de base',\n    fields: [{\n      name: 'firstName',\n      label: 'Prénom',\n      placeholder: 'Entrez votre prénom',\n      required: true\n    }, {\n      name: 'lastName',\n      label: 'Nom',\n      placeholder: 'Entrez votre nom',\n      required: true\n    }, {\n      name: 'email',\n      label: 'Email',\n      type: 'email',\n      placeholder: 'exemple@email.com',\n      required: true,\n      fullWidth: true\n    }, {\n      name: 'phone',\n      label: 'Téléphone',\n      type: 'tel',\n      placeholder: '+212 6XX XXX XXX'\n    }]\n  }, {\n    title: 'Informations académiques',\n    description: 'Parlez-nous de votre parcours',\n    fields: [{\n      name: 'role',\n      label: 'Vous êtes',\n      type: 'select',\n      required: true,\n      options: [{\n        value: 'student',\n        label: 'Étudiant'\n      }, {\n        value: 'professor',\n        label: 'Professeur'\n      }, {\n        value: 'admin',\n        label: 'Administrateur'\n      }]\n    }, {\n      name: 'department',\n      label: 'Département',\n      type: 'select',\n      required: true,\n      options: [{\n        value: 'informatique',\n        label: 'Informatique'\n      }, {\n        value: 'mathematiques',\n        label: 'Mathématiques'\n      }, {\n        value: 'physique',\n        label: 'Physique'\n      }, {\n        value: 'chimie',\n        label: 'Chimie'\n      }, {\n        value: 'biologie',\n        label: 'Biologie'\n      }]\n    }, {\n      name: 'cne',\n      label: 'CNE (pour étudiants)',\n      placeholder: 'Votre CNE',\n      hint: 'Laissez vide si vous êtes professeur'\n    }, {\n      name: 'cin',\n      label: 'CIN',\n      placeholder: 'Votre CIN',\n      required: true\n    }]\n  }, {\n    title: 'Sécurité du compte',\n    description: 'Créez un mot de passe sécurisé',\n    fields: [{\n      name: 'password',\n      label: 'Mot de passe',\n      type: 'password',\n      placeholder: '••••••••',\n      required: true,\n      hint: 'Minimum 8 caractères'\n    }, {\n      name: 'confirmPassword',\n      label: 'Confirmer le mot de passe',\n      type: 'password',\n      placeholder: '••••••••',\n      required: true\n    }, {\n      name: 'acceptTerms',\n      type: 'checkbox',\n      checkboxLabel: \"J'accepte les conditions d'utilisation\",\n      fullWidth: true,\n      required: true\n    }, {\n      name: 'newsletter',\n      type: 'checkbox',\n      checkboxLabel: 'Recevoir les notifications par email',\n      fullWidth: true\n    }]\n  }];\n\n  const handleSubmit = async formData => {\n    if (isSubmitting) return; // Validate passwords match\n\n    if (formData.password !== formData.confirmPassword) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Erreur',\n        text: 'Les mots de passe ne correspondent pas',\n        confirmButtonColor: '#4f6bed'\n      });\n      return;\n    } // Validate terms accepted\n\n\n    if (!formData.acceptTerms) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Erreur',\n        text: 'Vous devez accepter les conditions d\\'utilisation',\n        confirmButtonColor: '#4f6bed'\n      });\n      return;\n    }\n\n    setIsSubmitting(true); // Prepare data for API\n\n    const registrationData = {\n      firstName: formData.firstName,\n      lastName: formData.lastName,\n      email: formData.email,\n      password: formData.password,\n      phone: formData.phone || '',\n      cne: formData.cne || '',\n      cin: formData.cin,\n      department: formData.department,\n      role: formData.role\n    };\n    const result = await register(registrationData);\n    setIsSubmitting(false);\n\n    if (result.success) {\n      Swal.fire({\n        icon: 'success',\n        title: 'Inscription réussie!',\n        text: 'Votre compte a été créé. Veuillez attendre l\\'activation par l\\'administrateur.',\n        confirmButtonColor: '#4f6bed'\n      }).then(() => {\n        navigate('/login');\n      });\n    } else {\n      Swal.fire({\n        icon: 'error',\n        title: 'Erreur d\\'inscription',\n        text: result.error,\n        confirmButtonColor: '#4f6bed'\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signup-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signup-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/logo-fpn.svg\",\n          alt: \"Facult\\xE9 Pluridisciplinaire de Nador\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MultiStepForm, {\n        steps: steps,\n        onSubmit: handleSubmit,\n        title: \"Cr\\xE9er un compte\",\n        subtitle: \"Rejoignez la plateforme PFE Manager\",\n        submitLabel: \"S'inscrire\",\n        isSubmitting: isSubmitting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"D\\xE9j\\xE0 inscrit?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"login-link\",\n          children: \"Se connecter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUpForm, \"6Q9MKapRfWyyWL+kQbzPToBfZX0=\", false, function () {\n  return [useNavigate, useAuth];\n});\n\n_c = SignUpForm;\nexport default SignUpForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpForm\");","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","Swal","MultiStepForm","SignUpForm","navigate","register","isSubmitting","setIsSubmitting","steps","title","description","fields","name","label","placeholder","required","type","fullWidth","options","value","hint","checkboxLabel","handleSubmit","formData","password","confirmPassword","fire","icon","text","confirmButtonColor","acceptTerms","registrationData","firstName","lastName","email","phone","cne","cin","department","role","result","success","then","error"],"sources":["/home/bilal/Downloads/FPN/client/src/components/forms/SignUpForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport Swal from 'sweetalert2';\nimport MultiStepForm from './MultiStepForm';\nimport './SignUpForm.css';\n\nconst SignUpForm = () => {\n  const navigate = useNavigate();\n  const { register } = useAuth();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const steps = [\n    {\n      title: 'Informations personnelles',\n      description: 'Commençons par vos informations de base',\n      fields: [\n        { name: 'firstName', label: 'Prénom', placeholder: 'Entrez votre prénom', required: true },\n        { name: 'lastName', label: 'Nom', placeholder: 'Entrez votre nom', required: true },\n        { name: 'email', label: 'Email', type: 'email', placeholder: 'exemple@email.com', required: true, fullWidth: true },\n        { name: 'phone', label: 'Téléphone', type: 'tel', placeholder: '+212 6XX XXX XXX' }\n      ]\n    },\n    {\n      title: 'Informations académiques',\n      description: 'Parlez-nous de votre parcours',\n      fields: [\n        {\n          name: 'role',\n          label: 'Vous êtes',\n          type: 'select',\n          required: true,\n          options: [\n            { value: 'student', label: 'Étudiant' },\n            { value: 'professor', label: 'Professeur' },\n            { value: 'admin', label: 'Administrateur' }\n          ]\n        },\n        {\n          name: 'department',\n          label: 'Département',\n          type: 'select',\n          required: true,\n          options: [\n            { value: 'informatique', label: 'Informatique' },\n            { value: 'mathematiques', label: 'Mathématiques' },\n            { value: 'physique', label: 'Physique' },\n            { value: 'chimie', label: 'Chimie' },\n            { value: 'biologie', label: 'Biologie' }\n          ]\n        },\n        { name: 'cne', label: 'CNE (pour étudiants)', placeholder: 'Votre CNE', hint: 'Laissez vide si vous êtes professeur' },\n        { name: 'cin', label: 'CIN', placeholder: 'Votre CIN', required: true }\n      ]\n    },\n    {\n      title: 'Sécurité du compte',\n      description: 'Créez un mot de passe sécurisé',\n      fields: [\n        { name: 'password', label: 'Mot de passe', type: 'password', placeholder: '••••••••', required: true, hint: 'Minimum 8 caractères' },\n        { name: 'confirmPassword', label: 'Confirmer le mot de passe', type: 'password', placeholder: '••••••••', required: true },\n        { name: 'acceptTerms', type: 'checkbox', checkboxLabel: \"J'accepte les conditions d'utilisation\", fullWidth: true, required: true },\n        { name: 'newsletter', type: 'checkbox', checkboxLabel: 'Recevoir les notifications par email', fullWidth: true }\n      ]\n    }\n  ];\n\n  const handleSubmit = async (formData) => {\n    if (isSubmitting) return;\n\n    // Validate passwords match\n    if (formData.password !== formData.confirmPassword) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Erreur',\n        text: 'Les mots de passe ne correspondent pas',\n        confirmButtonColor: '#4f6bed'\n      });\n      return;\n    }\n\n    // Validate terms accepted\n    if (!formData.acceptTerms) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Erreur',\n        text: 'Vous devez accepter les conditions d\\'utilisation',\n        confirmButtonColor: '#4f6bed'\n      });\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    // Prepare data for API\n    const registrationData = {\n      firstName: formData.firstName,\n      lastName: formData.lastName,\n      email: formData.email,\n      password: formData.password,\n      phone: formData.phone || '',\n      cne: formData.cne || '',\n      cin: formData.cin,\n      department: formData.department,\n      role: formData.role\n    };\n\n    const result = await register(registrationData);\n\n    setIsSubmitting(false);\n\n    if (result.success) {\n      Swal.fire({\n        icon: 'success',\n        title: 'Inscription réussie!',\n        text: 'Votre compte a été créé. Veuillez attendre l\\'activation par l\\'administrateur.',\n        confirmButtonColor: '#4f6bed'\n      }).then(() => {\n        navigate('/login');\n      });\n    } else {\n      Swal.fire({\n        icon: 'error',\n        title: 'Erreur d\\'inscription',\n        text: result.error,\n        confirmButtonColor: '#4f6bed'\n      });\n    }\n  };\n\n  return (\n    <div className=\"signup-container\">\n      <div className=\"signup-wrapper\">\n        <div className=\"signup-logo\">\n          <img src=\"/logo-fpn.svg\" alt=\"Faculté Pluridisciplinaire de Nador\" />\n        </div>\n\n        <MultiStepForm\n          steps={steps}\n          onSubmit={handleSubmit}\n          title=\"Créer un compte\"\n          subtitle=\"Rejoignez la plateforme PFE Manager\"\n          submitLabel=\"S'inscrire\"\n          isSubmitting={isSubmitting}\n        />\n\n        <div className=\"signup-footer\">\n          <span>Déjà inscrit?</span>\n          <Link to=\"/login\" className=\"login-link\">Se connecter</Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUpForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}